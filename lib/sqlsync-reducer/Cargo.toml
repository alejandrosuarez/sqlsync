[package]
name = "sqlsync-reducer"
version = "0.1.0"
edition = "2021"

[dependencies]
serde = { version = "1.0.183", features = ["derive"] }
bincode = "1.3.3"
futures = "0.3.28"
log = "0.4.20"

wasmi = { version = "0.31.0", optional = true }
thiserror = { version = "1.0.47", optional = true }

[features]
default = ["guest"]
host = ["wasmi", "thiserror"]
guest = []

[dev-dependencies]
wasmi = { version = "0.31.0" }
anyhow = { version = "1.0.40", features = ["backtrace"] }
simple_logger = "4.2.0"

[[example]]
name = "guest"
crate-type = ["cdylib"]

[[example]]
name = "host"
required-features = ["host"]
