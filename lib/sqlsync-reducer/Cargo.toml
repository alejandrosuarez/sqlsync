[package]
name = "sqlsync-reducer"
version = "0.1.0"
edition = "2021"

[dependencies]
serde = { version = "1.0.183", features = ["derive"] }
bincode = "1.3.3"

wasmi = { version = "0.31.0", optional = true }
anyhow = { version = "1.0.40", features = ["backtrace"], optional = true }

[features]
default = ["guest"]
host = ["wasmi", "anyhow"]
guest = []

[dev-dependencies]
wee_alloc = { version = "0.4.5" }
wasmi = { version = "0.31.0" }
anyhow = { version = "1.0.40", features = ["backtrace"] }

[[example]]
name = "guest"
crate-type = ["cdylib"]

[[example]]
name = "host"
required-features = ["host"]
